<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/layout}">
<head>
    <title>Register Employee</title>
    <link rel="stylesheet" th:href="@{/plugin/EasyAutocomplete-1.3.5/easy-autocomplete.min.css}" />
</head>
<body>
    <div layout:fragment="content" th:remove="tag">
        <a href="/admin/employeelist" class="btn btn-primary">Back to Employee List</a> <br />
        <!--https://memorynotfound.com/spring-security-user-registration-example-thymeleaf/-->
        <!--https://spring.io/guides/gs/handling-form-submission/-->
        <div th:if="${param.success}">
            You've successfully registered employee!
        </div>
        <div th:if="${param.failure}">
            <h1>Failed in register employee!</h1>
        </div>
        <h1>Employee Registration</h1>
        <form th:action="@{/admin/register}" th:object="${newUser}" method="post" enctype="multipart/form-data" id="registerEmployeeForm">
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">ID: </label>
                <div class="col-sm-6"><input type="text" class="form-control" th:field="*{id}" /></div>
                <div class="col-sm-4"></div>
            </div>
            <!--https://spring.io/guides/gs/validating-form-input/-->
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Name: </label>
                <div class="col-sm-6"><input type="text" class="form-control" th:field="*{name}" /></div>
                <!--<p th:if="${fields.hasErrors('name')}" th:errors="*{name}">Name Error</p>-->
                <div class="col-sm-4"><small class="form-text text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</small></div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Email: </label>
                <div class="col-sm-6"><input type="text" class="form-control" th:field="*{email}" /></div>
                <div class="col-sm-4"><small class="form-text text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</small></div>
            </div>
            <!--<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</p>-->
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Phone: </label>
                <div class="col-sm-6"><input type="text" class="form-control" th:field="*{phone}" /></div>
                <div class="col-sm-4"></div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Birthday: </label>
                <div class="col-sm-6"><input type="date" class="form-control" th:field="*{birthday}" /></div>
                <div class="col-sm-4"></div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Username: </label>
                <div class="col-sm-6"><input type="text" class="form-control" th:field="*{username}" /></div>
                <div class="col-sm-4"><small class="form-text text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</small></div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Password: </label>
                <div class="col-sm-6"><input type="password" class="form-control" th:field="*{password}" /></div>
                <div class="col-sm-4"><small class="form-text text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</small></div>
            </div>

            <!--https://o7planning.org/en/11659/thymeleaf-form-select-option-example-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Role: </label>
                        <div class="col-sm-6">
                            <select class="form-control" th:field="*{role}" id="employee_role">
            <!--<select th:field="*{role.roleId}">-->
                                <option th:each="role: ${roles}" th:value="${role.roleId}" th:text="${role.role}" />
                            </select>
                        </div>
                        <div class="col-sm-3"><input class="form-control" id="manager_name" placeholder="Manager name" /></div>
                        <div class="col-sm-1"><input type="number" class="form-control" id="manager_id" th:field="*{managerId}" placeholder="Id" /></div>
                </div>



            <!--http://zetcode.com/springboot/uploadfile/-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Upload Profile Picture: </label>
                    <div class="col-sm-6"><input type="file" class="form-control-file" name="file" /></div>
                </div>

                <input type="submit" value="Register" id="registerSubmit" class="btn btn-success"/>
        </form>


        <!--<div>-->
            <!--<h1>Ajax Post Result</h1>-->
            <!--<span id="result"></span>-->
        <!--</div>-->


        <script type="text/javascript" th:src="@{/plugin/EasyAutocomplete-1.3.5/jquery.easy-autocomplete.min.js}"></script>
        <script type="text/javascript" th:src="@{/js/admin-register.js}"></script>
    </div>

    <!--<script src="/webjars/jquery/3.1.1/jquery.min.js"></script>-->
    <!--BELUM JALAN JQUERY BUAT AJAX FILE IMAGE NYA-->


</body>
</html>