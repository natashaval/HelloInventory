<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/layout}">
<head>
    <meta charset="UTF-8" />
    <title>Item Details</title>
</head>
<body>
    <div layout:fragment="content" th:remove="tag">
        <a th:href="@{/clerk/item/list}" class="btn btn-primary">Back to Item List</a>
        <button class="btn btn-info" id="item-details-print" th:attr="item-id=${item.id}"><i class="fas fa-print"></i> Print</button> <br />

        <br />
        <div class="row">
            <div class="col-sm-8">
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Identification Number (UPC): </label>
                    <div class="col-sm-8"><input type="number" readonly class="form-control" name="id" th:placeholder="${item.id}"></div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Name: </label>
                    <div class="col-sm-8"><input type="text" readonly class="form-control" name="name" th:placeholder="${item.name}"></div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Type:</label>
                    <div class="col-sm-8"><input type="text" readonly class="form-control" name="category" th:placeholder="${item.itemType}"></div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Category:</label>
                    <div class="col-sm-8"><input type="text" readonly class="form-control" name="category" th:placeholder="${item.category.name}"></div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Quantity: </label>
                    <div class="col-sm-3"><input type="number" readonly class="form-control" name="quantity" th:placeholder="${item.quantity}"></div>

                    <label class="col-sm-1 col-form-label">Price: </label>
                    <div class="col-sm-3"><input type="number" readonly class="form-control" name="price" step="0.01" th:placeholder="${item.price}"></div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Weight: </label>
                    <div class="col-sm-3"><input type="number" readonly class="form-control" name="weight" step="0.01" th:placeholder="${item.weight}"></div>
                    <label class="col-sm-1 col-form-label">Height: </label>
                    <div class="col-sm-3"><input type="number" readonly class="form-control" name="height" step="0.01" th:placeholder="${item.height}"> </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Width: </label>
                    <div class="col-sm-3"><input type="number" readonly class="form-control" name="width" step="0.01" th:placeholder="${item.width}"></div>
                    <label class="col-sm-1 col-form-label">Depth: </label>
                    <div class="col-sm-3"><input type="number" readonly class="form-control" name="depth" step="0.01" th:placeholder="${item.depth}"> </div>
                </div>
            </div>
            <div class="col-sm-4">
                <img th:if="${item.imagePath != null}" th:attr="src=@{|/uploads/item/${item.imagePath}|}, title=${item.imagePath}, alt=${item.imagePath}"  class="img-thumbnail img-responsive"/>
                <small th:if="${item.imagePath == null}">Image Not Available</small>
                <!--th:width="350" th:height="350"-->
            </div>
        </div>

    <script type="text/javascript" src="/webjars/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
    // https://jsfiddle.net/dimshik/9DbEP/4/
        $(document).ready(function(){
           $('#item-details-print').click(function(){
                var itemId = $(this).attr('item-id');
                console.log(itemId);

                printData(itemId);
           });
        });

        function printData(itemId){
            var printURL = "http://localhost:8080/clerk/item/" + itemId + "/print";
            // newWin = window.open(printURL);
            newWin = window.open(printURL);

        }

    </script>
    </div>
</body>
</html>